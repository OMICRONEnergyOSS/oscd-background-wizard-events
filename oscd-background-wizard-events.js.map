{"version":3,"file":"oscd-background-wizard-events.js","sourceRoot":"","sources":["../oscd-background-wizard-events.ts"],"names":[],"mappings":";AAEA,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AACvC,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AACpD,OAAO,qDAAqD,CAAC;AAG7D,OAAO,EAAE,WAAW,EAAE,MAAM,kCAAkC,CAAC;AAE/D,MAAM,CAAC,OAAO,OAAO,0BAA2B,SAAQ,UAAU;IAOhE,KAAK,CAAC,uBAAuB,CAAC,KAAwB;QACpD,MAAM,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC;QAChC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QACvD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,KAAe,CAAC,CAAC,CAAC;QACjD,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,KAAK,CAAC,qBAAqB,CAAC,KAAsB;QAChD,MAAM,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC;QAChC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACrD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,KAAe,CAAC,CAAC,CAAC;IACnD,CAAC;IAED,KAAK,CAAC,sBAAsB;QAC1B,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;IAC1B,CAAC;IAED;QACE,KAAK,EAAE,CAAC;QACR,QAAQ,CAAC,gBAAgB,CACvB,4BAA4B,EAC5B,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,uBAAuB,CAAC,KAA0B,CAAC,EACjE,EAAE,OAAO,EAAE,IAAI,EAAE,CAClB,CAAC;QACF,QAAQ,CAAC,gBAAgB,CACvB,0BAA0B,EAC1B,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,qBAAqB,CAAC,KAAwB,CAAC,EAC7D,EAAE,OAAO,EAAE,IAAI,EAAE,CAClB,CAAC;QACF,QAAQ,CAAC,gBAAgB,CACvB,mBAAmB,EACnB,GAAG,EAAE,CAAC,IAAI,CAAC,sBAAsB,EAAE,EACnC,EAAE,OAAO,EAAE,IAAI,EAAE,CAClB,CAAC;IACJ,CAAC;IAED,kDAAkD;IAClD,MAAM;QACJ,OAAO,IAAI,CAAA,uCAAuC,CAAC;IACrD,CAAC;CACF;AA7CC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;0DACR;AAGnB;IADC,KAAK,CAAC,kBAAkB,CAAC;8DACE","sourcesContent":["import { XMLEditor } from '@omicronenergy/oscd-editor';\nimport { CreateWizardEvent, EditWizardEvent } from './foundation.js';\nimport { html, LitElement } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport '@omicronenergy/oscd-edit-dialog/oscd-edit-dialog.js';\nimport OscdEditDialog from '@omicronenergy/oscd-edit-dialog/OscdEditDialog.js';\nimport { Edit } from '@omicronenergy/oscd-api';\nimport { convertEdit } from '@omicronenergy/oscd-api/utils.js';\n\nexport default class OscdBackgroundWizardEvents extends LitElement {\n  @property({ type: Object })\n  editor!: XMLEditor;\n\n  @query('oscd-edit-dialog')\n  editDialog!: OscdEditDialog;\n\n  async handleCreateWizardEvent(event: CreateWizardEvent) {\n    const wizardType = event.detail;\n    const edits = await this.editDialog.create(wizardType);\n    this.editor.commit(convertEdit(edits as Edit[]));\n    this.requestUpdate();\n  }\n\n  async handleEditWizardEvent(event: EditWizardEvent) {\n    const wizardType = event.detail;\n    const edits = await this.editDialog.edit(wizardType);\n    this.editor.commit(convertEdit(edits as Edit[]));\n  }\n\n  async handleCloseWizardEvent() {\n    this.editDialog.close();\n  }\n\n  constructor() {\n    super();\n    document.addEventListener(\n      'oscd-create-wizard-request',\n      event => this.handleCreateWizardEvent(event as CreateWizardEvent),\n      { capture: true },\n    );\n    document.addEventListener(\n      'oscd-edit-wizard-request',\n      event => this.handleEditWizardEvent(event as EditWizardEvent),\n      { capture: true },\n    );\n    document.addEventListener(\n      'oscd-close-wizard',\n      () => this.handleCloseWizardEvent(),\n      { capture: true },\n    );\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  render() {\n    return html`<oscd-edit-dialog></oscd-edit-dialog>`;\n  }\n}\n"]}