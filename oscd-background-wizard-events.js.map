{"version":3,"file":"oscd-background-wizard-events.js","sources":["../../oscd-background-wizard-events.ts"],"sourcesContent":["import { XMLEditor } from '@omicronenergy/oscd-editor';\nimport { CreateWizardEvent, EditWizardEvent } from './foundation.js';\nimport { html, LitElement } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport '@omicronenergy/oscd-edit-dialog/oscd-edit-dialog.js';\nimport OscdEditDialog from '@omicronenergy/oscd-edit-dialog/OscdEditDialog.js';\nimport { Edit } from '@omicronenergy/oscd-api';\nimport { convertEdit } from '@omicronenergy/oscd-api/utils.js';\n\nexport default class OscdBackgroundWizardEvents extends LitElement {\n  @property({ type: Object })\n  editor!: XMLEditor;\n\n  @query('oscd-edit-dialog')\n  editDialog!: OscdEditDialog;\n\n  async handleCreateWizardEvent(event: CreateWizardEvent) {\n    const wizardType = event.detail;\n    const edits = await this.editDialog.create(wizardType);\n    this.editor.commit(convertEdit(edits as Edit[]));\n    this.requestUpdate();\n  }\n\n  async handleEditWizardEvent(event: EditWizardEvent) {\n    const wizardType = event.detail;\n    const edits = await this.editDialog.edit(wizardType);\n    this.editor.commit(convertEdit(edits as Edit[]));\n  }\n\n  async handleCloseWizardEvent() {\n    this.editDialog.close();\n  }\n\n  constructor() {\n    super();\n    document.addEventListener(\n      'oscd-create-wizard-request',\n      event => this.handleCreateWizardEvent(event as CreateWizardEvent),\n      { capture: true },\n    );\n    document.addEventListener(\n      'oscd-edit-wizard-request',\n      event => this.handleEditWizardEvent(event as EditWizardEvent),\n      { capture: true },\n    );\n    document.addEventListener(\n      'oscd-close-wizard',\n      () => this.handleCloseWizardEvent(),\n      { capture: true },\n    );\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  render() {\n    return html`<oscd-edit-dialog></oscd-edit-dialog>`;\n  }\n}\n"],"names":["LitElement","html","property","query"],"mappings":";;;;;;;;;AASc,MAAO,0BAA2B,SAAQA,CAAU,CAAA;IAOhE,MAAM,uBAAuB,CAAC,KAAwB,EAAA;AACpD,QAAA,MAAM,UAAU,GAAG,KAAK,CAAC,MAAM;QAC/B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC;QACtD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,KAAe,CAAC,CAAC;QAChD,IAAI,CAAC,aAAa,EAAE;IACtB;IAEA,MAAM,qBAAqB,CAAC,KAAsB,EAAA;AAChD,QAAA,MAAM,UAAU,GAAG,KAAK,CAAC,MAAM;QAC/B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC;QACpD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,KAAe,CAAC,CAAC;IAClD;AAEA,IAAA,MAAM,sBAAsB,GAAA;AAC1B,QAAA,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;IACzB;AAEA,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE;QACP,QAAQ,CAAC,gBAAgB,CACvB,4BAA4B,EAC5B,KAAK,IAAI,IAAI,CAAC,uBAAuB,CAAC,KAA0B,CAAC,EACjE,EAAE,OAAO,EAAE,IAAI,EAAE,CAClB;QACD,QAAQ,CAAC,gBAAgB,CACvB,0BAA0B,EAC1B,KAAK,IAAI,IAAI,CAAC,qBAAqB,CAAC,KAAwB,CAAC,EAC7D,EAAE,OAAO,EAAE,IAAI,EAAE,CAClB;AACD,QAAA,QAAQ,CAAC,gBAAgB,CACvB,mBAAmB,EACnB,MAAM,IAAI,CAAC,sBAAsB,EAAE,EACnC,EAAE,OAAO,EAAE,IAAI,EAAE,CAClB;IACH;;IAGA,MAAM,GAAA;QACJ,OAAOC,CAAI,CAAA,CAAA,qCAAA,CAAuC;IACpD;AACD;AA7CC,UAAA,CAAA;AADC,IAAAC,CAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE;AACP,CAAA,EAAA,0BAAA,CAAA,SAAA,EAAA,QAAA,EAAA,MAAA,CAAA;AAGnB,UAAA,CAAA;IADCC,CAAK,CAAC,kBAAkB;AACG,CAAA,EAAA,0BAAA,CAAA,SAAA,EAAA,YAAA,EAAA,MAAA,CAAA;;;;"}